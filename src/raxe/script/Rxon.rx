import hscript.Parser
import hscript.Interp
import hscript.Expr
import raxe.compiler.Compiler

class @
  def interp : Interp = new Interp()
  def parser : Parser = new Parser()
  def compiler : Compiler = new Compiler(true)
  def new() do null

  def parse(s : String) : Map[String, Dynamic]
    def content = compiler.compileString("return #{s}")
    interp.execute(parser.parseString(content))
  end
end
